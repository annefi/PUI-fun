from numpy import *

def tof2mq(step):
    para=[0.001240,0.001119,0.001012,0.000918,0.000836,0.000763,0.000700,0.000645,0.000597,0.000556,0.000519,0.000487,0.000473,0.000460,0.000447,0.000436,0.000425,0.000415,0.000406,0.000397,0.000389,0.000381,0.000374,0.000368,0.000361,0.000356,0.000350,0.000346,0.000341,0.000337,0.000333,0.000329,0.000325,0.000322,0.000319,0.000316,0.000314,0.000311,0.000309,0.000307,0.000305,0.000303,0.000302,0.000300,0.000299,0.000297,0.000296,0.000295,0.000294,0.000293,0.000292,0.000291,0.000290,0.000289,0.000288,0.000288,0.000287,0.000287]
    return para[step]*(arange(512)/2.)**2


def tof2mq_new(step,tof):
    para=array([0.001240,0.001119,0.001012,0.000918,0.000836,0.000763,0.000700,0.000645,0.000597,0.000556,0.000519,0.000487,0.000473,0.000460,0.000447,0.000436,0.000425,0.000415,0.000406,0.000397,0.000389,0.000381,0.000374,0.000368,0.000361,0.000356,0.000350,0.000346,0.000341,0.000337,0.000333,0.000329,0.000325,0.000322,0.000319,0.000316,0.000314,0.000311,0.000309,0.000307,0.000305,0.000303,0.000302,0.000300,0.000299,0.000297,0.000296,0.000295,0.000294,0.000293,0.000292,0.000291,0.000290,0.000289,0.000288,0.000288,0.000287,0.000287])
    return para[step]*(tof/2.)**2

def tof2mq_new_fulltof(step,tof):
    para=array([0.001240,0.001119,0.001012,0.000918,0.000836,0.000763,0.000700,0.000645,0.000597,0.000556,0.000519,0.000487,0.000473,0.000460,0.000447,0.000436,0.000425,0.000415,0.000406,0.000397,0.000389,0.000381,0.000374,0.000368,0.000361,0.000356,0.000350,0.000346,0.000341,0.000337,0.000333,0.000329,0.000325,0.000322,0.000319,0.000316,0.000314,0.000311,0.000309,0.000307,0.000305,0.000303,0.000302,0.000300,0.000299,0.000297,0.000296,0.000295,0.000294,0.000293,0.000292,0.000291,0.000290,0.000289,0.000288,0.000288,0.000287,0.000287,0.])
    return para[step]*((tof-1)/4.)**2

"""
gp("a=1.")
gp("b=2.")
gpdata=Data(pos[step])
gp("f(x)=a*(x/b)**2")
"""
